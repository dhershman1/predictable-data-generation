#! /usr/bin/env node
import { amend, withDefaults } from 'kyanite'
import { readJson } from 'fs-extra'
import minimist from 'minimist'

const parsedArgs = minimist(process.argv.slice(2), {
  alias: {
    s: 'seed',
    o: 'output',
    t: 'tables',
    c: 'config',
    v: 'version'
  }
})
const pkg = readJson('../package.json')
const tables = {}

if (parsedArgs.version) {
  console.log(pkg.version)

  process.exit(0)
}

if (parsedArgs.config) {
  readJson(parsedArgs.config)
    .then(config => {
      console.log(config)
    })
    .catch(err => {
      console.error(err)
      process.exit(1)
    })
} else {
  console.error('No Config Provided')
}
